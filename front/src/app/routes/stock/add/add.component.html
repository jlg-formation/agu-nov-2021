<main>
  <h1>Ajout d'un article</h1>
  <form [formGroup]="f" (ngSubmit)="submit()">
    <label>
      <div>Nom</div>
      <input type="text" formControlName="name" appAutofocus />
      <div>
        <ul *ngIf="f.controls['name'].touched">
          <li *ngIf="f.controls['name'].errors?.['required']">Champ requis.</li>
          <li *ngIf="f.controls['name'].errors?.['minlength']">
            Le nom doit contenir au moins
            {{ f.controls["name"].errors?.["minlength"].requiredLength }}
            caractères.
          </li>
          <li *ngIf="f.controls['name'].errors?.['maxlength']">
            Le nom doit contenir maxi 15 caractères.
          </li>
        </ul>
      </div>
    </label>
    <label>
      <div>Prix</div>
      <input type="number" formControlName="price" />
      <div></div>
    </label>
    <label>
      <div>Quantité</div>
      <input type="number" formControlName="qty" />
      <div></div>
    </label>
    <button [disabled]="f.invalid" class="primary">
      <fa-icon
        [icon]="isAdding ? faCircleNotch : faPlus"
        [spin]="isAdding"
      ></fa-icon>
      Ajouter
    </button>
  </form>
  <!-- {{ f.value | json }} -->
</main>
